{"version":3,"file":"zoom-slideshow.js","mappings":";;;;;;;;;;AAAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;;;;;;;;;ACNA;AACA;AACA;AACA;;AAGA,MAAM;EAAEA;AAAkB,CAAC,GAAGC,MAAM,CAACC,EAAE,CAACC,MAAM;AAE2B;AACb;AACJ;AACnB;AAAA;AAKrC,MAAMc,WAAW,GAAIC,KAAK,IAAK;EAE3BC,OAAO,CAACC,GAAG,CAAC,mBAAmB,EAAEF,KAAK,CAAC;EAIvC,MAAMG,UAAU,GAAG;IACrBC,eAAe,EAAEJ,KAAK,CAACK,KAAK,IAAIC,SAAS,GAAI,OAAO,GAAGN,KAAK,CAACK,KAAK,CAACE,GAAG,GAAG,IAAI,GAAG;EACjF,CAAC;EAED,oBACCX,uDAAA;IAAKY,SAAS,EAAC,2BAA2B;IAAAC,QAAA,gBAEvCb,uDAAA;MAAKY,SAAS,EAAC,4BAA4B;MAAAC,QAAA,gBAExBf,sDAAA,CAACP,qEAAgB;QAAAsB,QAAA,eAEbf,sDAAA,CAACR,gEAAW;UACRwB,QAAQ,EAAGC,KAAK,IAAK;YAACX,KAAK,CAACY,gBAAgB,CAAC;cAACC,GAAG,EAAEb,KAAK,CAACa,GAAG;cAAEF;YAAK,CAAC,CAAC;UAAA,CAAE;UACvEG,KAAK,EAAEd,KAAK,CAACK,KAAK,EAAEU,EAAE,IAAK,CAAE;UAC7BC,YAAY,EAAG,CAAC,OAAO,CAAG;UAC1BC,MAAM,EAAEA,CAAC;YAACC;UAAI,CAAC,kBACXtB,uDAAA,CAACR,yDAAM;YACHoB,SAAS,EAAER,KAAK,CAACK,KAAK,EAAEU,EAAE,IAAI,CAAC,GAAG,oCAAoC,GACpE,qCAAsC;YACxCI,OAAO,EAAED,IAAK;YAAAT,QAAA,GAEbT,KAAK,CAACK,KAAK,EAAEU,EAAE,IAAIT,SAAS,IAAId,mDAAE,CAAC,+BAA+B,EAAE,gBAAgB,CAAC,EACrFQ,KAAK,CAACK,KAAK,EAAEU,EAAE,IAAIT,SAAS,iBACjBZ,sDAAA;cAAK0B,KAAK,EAAC,KAAK;cAACC,MAAM,EAAC,MAAM;cAACC,GAAG,EAAEtB,KAAK,CAACK,KAAK,CAACE;YAAI,CAAE,CAAC;UAAA,CAE/D;QACV,CACL;MAAC,CACY,CAAC,EAClBP,KAAK,CAACK,KAAK,IAAIC,SAAS,iBACrBZ,sDAAA,CAACP,qEAAgB;QAAAsB,QAAA,eACbf,sDAAA,CAACN,yDAAM;UAAC+B,OAAO,EAAEA,CAAA,KAAM;YAACnB,KAAK,CAACuB,WAAW,CAACvB,KAAK,CAACa,GAAG,CAAC;UAAA,CAAE;UAAEW,aAAa;UAAAf,QAAA,EAAEjB,mDAAE,CAAC,cAAc,EAAE,gBAAgB;QAAC,CAAS;MAAC,CACvG,CAAC;IAAA,CAErC,CAAC,eAERE,sDAAA;MAAK+B,KAAK,EAAEtB;IAAW,CAElB,CAAC;EAAA,CACF,CAAC;AAER,CAAC;AAGDrB,iBAAiB,CAAC,wBAAwB,EAAE;EAC3C4C,KAAK,EAAE,wBAAwB;EAC/BC,QAAQ,EAAE,QAAQ;EAClBC,IAAI,EAAE,QAAQ;EACdC,WAAW,EAAE,gBAAgB;EAC7BC,QAAQ,EAAE,CAAC,MAAM,EAAE,WAAW,EAAE,OAAO,CAAC;EACrCC,UAAU,EAAE;IACXC,MAAM,EAAG;MAACC,IAAI,EAAE,OAAO;MAAEC,OAAO,EAAE;IAAE,CAAC,CAAC;EAEvC,CAAC;EAIJC,IAAI,EAAGnC,KAAK,IAAK;IAEV,MAAM;MAAE+B,UAAU;MAAEK;IAAc,CAAC,GAAGpC,KAAK;IAC3CC,OAAO,CAACC,GAAG,CAAC,wBAAwB,EAAE6B,UAAU,CAAC;IAEjD,MAAMR,WAAW,GAAIV,GAAG,IAAK;MACzB,IAAImB,MAAM,GAAGK,eAAe,CAACN,UAAU,CAACC,MAAM,CAAC;MAC/C,IAAIM,SAAS,GAAG,EAAE;MAElB,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGP,MAAM,CAACQ,MAAM,EAAED,CAAC,EAAE,EACtC;QACI,IAAIA,CAAC,IAAI1B,GAAG,EACZ;UACIyB,SAAS,CAACG,IAAI,CAACT,MAAM,CAACO,CAAC,CAAC,CAAC;QAC7B;MACJ;MAEAH,aAAa,CAAC;QACVJ,MAAM,EAAEM;MACZ,CAAC,CAAC;IACN,CAAC;IAED,MAAM1B,gBAAgB,GAAGA,CAAC;MAACC,GAAG;MAAEF;IAAK,CAAC,KAAK;MAEvCV,OAAO,CAACC,GAAG,CAAC,uBAAuB,EAAEW,GAAG,EAAEF,KAAK,CAAC;MAChD,IAAIqB,MAAM,GAAGK,eAAe,CAACN,UAAU,CAACC,MAAM,CAAC;MAE/C,IAAInB,GAAG,IAAIP,SAAS,IAAIK,KAAK,IAAIL,SAAS,IAAIK,KAAK,CAACI,EAAE,IAAIT,SAAS;QAAG;QACtE;UACIL,OAAO,CAACC,GAAG,CAAC,UAAU,EAAES,KAAK,CAAC;UAC9BqB,MAAM,CAACnB,GAAG,CAAC,CAACE,EAAE,GAAGJ,KAAK,CAACI,EAAE;UACzBiB,MAAM,CAACnB,GAAG,CAAC,CAACN,GAAG,GAAGI,KAAK,CAACJ,GAAG;QAC/B,CAAC,MAED;QACIyB,MAAM,CAACS,IAAI,CAAC9B,KAAK,CAAC;MACtB;MAEAyB,aAAa,CAAC;QACVJ,MAAM,EAAEA;MACZ,CAAC,CAAC;IACN,CAAC;IAMD,MAAMrB,KAAK,GAAGpB,0DAAS,CAAImD,MAAM,IAAM;MAEnC,IAAIX,UAAU,CAACY,OAAO,IAAI,CAAC,EAC3B;QACI,MAAMC,IAAI,GAAGF,MAAM,CAAE,MAAO,CAAC,CAACG,QAAQ,CAACd,UAAU,CAACC,MAAM,CAAC;QACzD/B,OAAO,CAACC,GAAG,CAAC,MAAM,EAAE0C,IAAI,CAAC;QACzB,OAAOA,IAAI;MACf,CAAC,MAED;QACI,OAAO;UAAC7B,EAAE,EAAET;QAAS,CAAC;MAC1B;IAEJ,CAAC,EAAE,CAACyB,UAAU,CAAE,CAAC;IAGjB,IAAIe,SAAS,GAAGf,UAAU,CAACC,MAAM,CAACe,GAAG,CAAC,UAAS1C,KAAK,EAAEQ,GAAG,EAAG;MACxDZ,OAAO,CAACC,GAAG,CAAC,QAAQ,EAAEG,KAAK,CAAC;MAC5B,oBAAOX,sDAAA,CAACK,WAAW;QAACM,KAAK,EAAEA,KAAM;QAACQ,GAAG,EAAEA,GAAI;QAACD,gBAAgB,EAAEA,gBAAiB;QAACW,WAAW,EAAEA;MAAY,CAAE,CAAC;IAChH,CAAC,CAAC;IAEFtB,OAAO,CAACC,GAAG,CAAC,WAAW,EAAE4C,SAAS,CAAC;IAEzC,oBAAOlD,uDAAA,CAAAE,uDAAA;MAAAW,QAAA,GAEIqC,SAAS,eAEVlD,uDAAA;QAAAa,QAAA,GAAM,gBAEH,eAAAf,sDAAA,CAACK,WAAW;UAACa,gBAAgB,EAAEA;QAAiB,CAAE,CAAC;MAAA,CACjD,CAAC;IAAA,CAIR,CAAC;EACV,CAAC;EAEDoC,IAAI,EAAGhD,KAAK,IAAK;IACV,CAAC;IACP,MAAM;MAAE+B;IAAW,CAAC,GAAG/B,KAAK;IACtBC,OAAO,CAACC,GAAG,CAAC,YAAY,EAAE6B,UAAU,CAAC;IACxC,oBAAQrC,sDAAA;MAAAe,QAAA,EAAK;IAEN,CAAK,CAAC;EAEjB;AACD,CAAC,CAAC,C","sources":["webpack://zoom-slideshow/external window [\"wp\",\"blockEditor\"]","webpack://zoom-slideshow/external window [\"wp\",\"components\"]","webpack://zoom-slideshow/external window [\"wp\",\"data\"]","webpack://zoom-slideshow/external window [\"wp\",\"i18n\"]","webpack://zoom-slideshow/external window \"ReactJSXRuntime\"","webpack://zoom-slideshow/webpack/bootstrap","webpack://zoom-slideshow/webpack/runtime/compat get default export","webpack://zoom-slideshow/webpack/runtime/define property getters","webpack://zoom-slideshow/webpack/runtime/hasOwnProperty shorthand","webpack://zoom-slideshow/webpack/runtime/make namespace object","webpack://zoom-slideshow/./src/index.js"],"sourcesContent":["module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"ReactJSXRuntime\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","//https://awhitepixel.com/blog/wordpress-gutenberg-create-custom-block-part-2-register-block/ \r\n//https://awhitepixel.com/blog/wordpress-gutenberg-add-image-select-custom-block/\r\n//prob his way of using withSelect as a wrapper for the whole rendered comp.\r\n//is better than mine of using useSelect hook which is recalled on every attr. change. \r\n\r\n\r\nconst { registerBlockType } = window.wp.blocks;\r\n\r\nimport {  MediaUpload, MediaUploadCheck } from '@wordpress/block-editor';\r\nimport { Button, TextControl } from '@wordpress/components';\r\nimport { withSelect, useSelect } from '@wordpress/data';\r\nimport { __ } from '@wordpress/i18n';\r\n\r\n\r\n\r\n\r\nconst ImageEditor = (props) => {\r\n\t\r\n    console.log(\"ImageEditor props\", props);\r\n   \r\n  \r\n\r\n    const blockStyle = {\r\n\t\tbackgroundImage: props.image != undefined  ? 'url(\"' + props.image.url + '\")' : 'none'\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"zoom-slideshow-buttons-fe\">\r\n\r\n\t\t\t\t\t<div className=\"editor-post-featured-image\">\r\n\t\t\t\t\t\t\r\n                        <MediaUploadCheck>\r\n                          \r\n                            <MediaUpload\r\n                                onSelect={(media) => {props.changeOrAddMedia({idx: props.idx, media})}}\r\n                                value={props.image?.id  || 0}\r\n                                allowedTypes={ ['image'] }\r\n                                render={({open}) => (\r\n                                    <Button \r\n                                        className={props.image?.id == 0 ? 'editor-post-featured-image__toggle' \r\n                                        : 'editor-post-featured-image__preview'}\r\n                                        onClick={open}\r\n                                    >\r\n                                        {props.image?.id == undefined && __('Choose an image (*16:9 ratio)', 'zoom-slideshow')}\r\n                                        {props.image?.id != undefined && \r\n                                                    <img width=\"100\" height=\"auto\" src={props.image.url} />\r\n                                        }\r\n                                    </Button>\r\n                                )}\r\n                            />\r\n                        </MediaUploadCheck>\r\n                        {props.image != undefined && \r\n                            <MediaUploadCheck>\r\n                                <Button onClick={() => {props.removeMedia(props.idx)}}  isDestructive>{__('Remove image', 'zoom-slideshow')}</Button>\r\n                            </MediaUploadCheck>\r\n\t\t                }                    \r\n\t\t\t\t\t</div>\r\n\t\t\r\n\t\t\t<div style={blockStyle}>\r\n\t\t\t\t\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\n \r\nregisterBlockType('screen4/zoom-slideshow', {\r\n\ttitle: 'Zoom Slideshow (Pacer)',\r\n\tcategory: 'common',\r\n\ticon: 'smiley',\r\n\tdescription: 'Zoom Slideshow',\r\n\tkeywords: ['zoom', 'slideshow', 'pacer'],\r\n    attributes: {\r\n\t    images : {type: 'array', default: []} /*   mediaId: media.id, mediaUrl: media.url */\r\n   \r\n    },\r\n\r\n    \r\n\r\n\tedit: (props) => { \r\n        \r\n        const { attributes, setAttributes } = props;\r\n        console.log(\"edit called attributes\", attributes);\r\n\r\n        const removeMedia = (idx) => {\r\n            let images = structuredClone(attributes.images); \r\n            let newImages = [];\r\n            \r\n            for (let i = 0; i < images.length; i++)\r\n            {\r\n                if (i != idx)\r\n                {\r\n                    newImages.push(images[i]);\r\n                }\r\n            }\r\n\r\n            setAttributes({\r\n                images: newImages\r\n            });\r\n        }\r\n\r\n        const changeOrAddMedia = ({idx, media}) => {\r\n            \r\n            console.log(\"changeOrAddMedia xxxx\", idx, media);\r\n            let images = structuredClone(attributes.images); \r\n\r\n            if (idx != undefined && media != undefined && media.id != undefined ) //change\r\n            {\r\n                console.log(\"changing\", media);\r\n                images[idx].id = media.id;\r\n                images[idx].url = media.url;\r\n            }\r\n            else\r\n            {\r\n                images.push(media);\r\n            }\r\n\r\n            setAttributes({\r\n                images: images\r\n            });\r\n        }\r\n\r\n   \r\n\r\n\r\n\r\n        const media = useSelect( ( select ) => {\r\n            \r\n            if (attributes.mediaId != 0)\r\n            {   \r\n                const data = select( 'core' ).getMedia(attributes.images);\r\n                console.log(\"data\", data);\r\n                return data;\r\n            }\r\n            else\r\n            {\r\n                return {id: undefined};\r\n            }\r\n            \r\n        }, [attributes] );\r\n\r\n\r\n        let imageList = attributes.images.map(function(image, idx)  { \r\n            console.log(\"in map\", image);\r\n            return <ImageEditor image={image} idx={idx} changeOrAddMedia={changeOrAddMedia} removeMedia={removeMedia} />\r\n        });\r\n\r\n        console.log(\"imageList\", imageList);\r\n\r\n\t\treturn <>\r\n\r\n            {imageList}\r\n \r\n            <div >\r\n                Add New Slide:\r\n               <ImageEditor changeOrAddMedia={changeOrAddMedia} />\r\n            </div>\r\n\r\n\r\n\r\n        </> \r\n\t},\r\n    \r\n\tsave: (props) => { \r\n        {/* {`document.location.href=${attributes.menuLink}`} */}\r\n\t\tconst { attributes } = props;\r\n        console.log(\"attributes\", attributes);\r\n\t    return  <div>\r\n                hello\r\n            </div>\r\n            \r\n\t}\r\n});\r\n\r\n\r\n"],"names":["registerBlockType","window","wp","blocks","MediaUpload","MediaUploadCheck","Button","TextControl","withSelect","useSelect","__","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ImageEditor","props","console","log","blockStyle","backgroundImage","image","undefined","url","className","children","onSelect","media","changeOrAddMedia","idx","value","id","allowedTypes","render","open","onClick","width","height","src","removeMedia","isDestructive","style","title","category","icon","description","keywords","attributes","images","type","default","edit","setAttributes","structuredClone","newImages","i","length","push","select","mediaId","data","getMedia","imageList","map","save"],"sourceRoot":""}